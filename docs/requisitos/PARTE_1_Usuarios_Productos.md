# Matriz de Requisitos Completa - PARTE 1 de 3
## Gestión de Usuarios, Accesos y Productos (RF-001 a RF-042)

| Módulo | Subprocesos | Nro. | Descripción (RF) | Nro. | Descripción (RN) | Nro. | Descripción (RI) |
|---|---|---|---|---|---|---|---|
| Gestión de Usuarios y Accesos | Registro de usuarios | RF-001 | El sistema debe permitir a los visitantes registrarse creando una cuenta nueva con correo electrónico, nombre completo, teléfono y contraseña. | RN-001 | Para crear una cuenta, debes aceptar obligatoriamente los términos y condiciones marcando la casilla de aceptación. Sin esta confirmación no se puede completar el registro. | RI-001 | Nombre completo del usuario, correo electrónico único, número de teléfono, contraseña encriptada, fecha de registro, aceptación de términos y condiciones. |
| Gestión de Usuarios y Accesos | Inicio de sesión | RF-002 | El sistema debe permitir a los usuarios registrados iniciar sesión con su correo electrónico y contraseña, con opción de "Recordar mi cuenta". | RN-002 | Si activas la opción "Recordar mi cuenta", el sistema mantendrá tu sesión activa por 30 días. De lo contrario, la sesión se cerrará automáticamente al cerrar el navegador por seguridad. | RI-002 | Correo electrónico de acceso, contraseña para validación, token de sesión único, fecha de expiración del token, dirección IP del dispositivo y estado de la sesión recordada. |
| Gestión de Usuarios y Accesos | Ver perfil de usuario | RF-003 | El sistema debe permitir a los usuarios ver su información personal completa en su perfil (nombre, correo, teléfono, foto de perfil). | RN-003 | Cada usuario solo puede ver su propia información personal. No tiene acceso a los datos de otros usuarios, garantizando la privacidad de todos. | RI-003 | Identificador único del usuario, nombre completo, correo electrónico, número de teléfono, foto de perfil, rol del usuario y fecha de último acceso. |
| Gestión de Usuarios y Accesos | Editar perfil de usuario | RF-004 | El sistema debe permitir a los usuarios modificar su información personal: nombre, teléfono y foto de perfil. | RN-004 | El correo electrónico no puede modificarse una vez creada la cuenta, ya que es el identificador único para iniciar sesión. Para cambiar el correo debes contactar al administrador. | RI-004 | Nombre completo actualizado, número de teléfono actualizado, foto de perfil nueva (formatos JPG, PNG, máximo 2MB) y fecha de última actualización del perfil. |
| Gestión de Usuarios y Accesos | Registro con Google | RF-005 | El sistema debe permitir a los visitantes registrarse usando su cuenta de Google, creando automáticamente su perfil con los datos de Google. | RN-005 | Si te registras con Google, tu correo, nombre y foto se importan automáticamente desde tu cuenta de Google. No necesitas crear ni recordar una contraseña adicional para la tienda. | RI-005 | Identificador único de Google del usuario, correo electrónico de Google, nombre completo de Google, foto de perfil de Google y tokens de acceso y actualización de Google. |
| Gestión de Usuarios y Accesos | Inicio de sesión con Google | RF-006 | El sistema debe permitir a los usuarios iniciar sesión usando su cuenta de Google sin necesidad de contraseña. | RN-006 | Cuando inicias sesión con Google, el sistema valida automáticamente tu identidad con los servidores de Google. No necesitas ingresar contraseña. Si es tu primera vez, se crea automáticamente tu cuenta. | RI-006 | Identificador de Google para validación, tokens temporales de autenticación de Google y fecha y hora del último inicio de sesión con Google. |
| Gestión de Usuarios y Accesos | Agregar dirección | RF-007 | El sistema debe permitir a los usuarios agregar nuevas direcciones de envío con coordenadas GPS, nombre del receptor y teléfono de contacto. | RN-007 | Al guardar una dirección de envío, debes incluir obligatoriamente su ubicación exacta en el mapa (coordenadas GPS). Esto es esencial para que los repartidores puedan llegar precisamente a tu domicilio. | RI-007 | Dirección completa de texto, barrio, ciudad, coordenadas GPS obligatorias (latitud y longitud), nombre del receptor, teléfono del receptor e instrucciones especiales de entrega opcionales. |
| Gestión de Usuarios y Accesos | Ver direcciones | RF-008 | El sistema debe permitir a los usuarios visualizar todas sus direcciones guardadas con su información completa y ubicación en el mapa. | RN-008 | Puedes guardar múltiples direcciones de envío (casa, trabajo, casa de familiares). Cada una se muestra con su mapa de ubicación y puedes elegir cuál usar al momento de hacer una compra. | RI-008 | Listado completo de direcciones del usuario: dirección completa, barrio, ciudad, coordenadas GPS, nombre y teléfono del receptor, indicador de dirección predeterminada y fecha de creación. |
| Gestión de Usuarios y Accesos | Editar dirección | RF-009 | El sistema debe permitir a los usuarios modificar cualquier dato de sus direcciones guardadas, incluyendo actualizar las coordenadas GPS. | RN-009 | Puedes actualizar cualquier dato de tus direcciones: cambiar el nombre del receptor, actualizar el teléfono, modificar instrucciones de entrega o corregir la ubicación en el mapa arrastrando el marcador. | RI-009 | Identificador de la dirección a modificar, nuevos valores para: dirección, barrio, coordenadas GPS, nombre receptor, teléfono receptor, instrucciones de entrega y fecha de última actualización. |
| Gestión de Usuarios y Accesos | Eliminar dirección | RF-010 | El sistema debe permitir a los usuarios eliminar direcciones que ya no utilizan de su lista de direcciones guardadas. | RN-010 | Antes de eliminar una dirección, el sistema te pedirá confirmación para evitar borrados accidentales. No puedes eliminar una dirección que esté asociada a pedidos pendientes o en proceso de entrega. | RI-010 | Identificador de la dirección a eliminar, verificación de que no hay pedidos activos usando esa dirección y fecha de eliminación para auditoría. |
| Gestión de Usuarios y Accesos | Control de acceso por roles | RF-011 | El sistema debe redirigir automáticamente a cada usuario a su panel correspondiente según su rol al iniciar sesión (admin, customer). | RN-011 | Cada tipo de usuario tiene acceso solo a las secciones que le corresponden. Los clientes ven su perfil y pedidos, y los administradores el panel completo de gestión de la tienda. | RI-011 | Rol del usuario (admin o customer), página de inicio correspondiente al rol, permisos asociados al rol y fecha de asignación del rol. |
| Gestión de Usuarios y Accesos | Restricción de acceso | RF-012 | El sistema debe bloquear el acceso a secciones no autorizadas y redirigir al usuario a su área correspondiente si intenta acceder a URLs restringidas. | RN-012 | Si intentas acceder a una sección no autorizada para tu rol (por ejemplo, un cliente intentando entrar al panel de administración), serás redirigido automáticamente a tu panel principal con un mensaje informativo. | RI-012 | URL solicitada, rol del usuario que intenta acceder, permisos requeridos para esa URL, acción tomada (permitir o redirigir) y registro del intento de acceso para auditoría. |
| Gestión de Usuarios y Accesos | Ver configuración | RF-013 | El sistema debe permitir a los usuarios visualizar sus preferencias de notificaciones, configuración de privacidad y opciones de cuenta. | RN-013 | En tu configuración de cuenta puedes ver y ajustar qué notificaciones deseas recibir por correo: actualizaciones de tus pedidos, alertas de productos favoritos y ofertas especiales. | RI-013 | Preferencias de notificaciones por correo (órdenes, alertas de productos, ofertas), configuración de privacidad actual y opciones de seguridad de la cuenta. |
| Gestión de Usuarios y Accesos | Actualizar configuración | RF-014 | El sistema debe permitir a los usuarios modificar sus preferencias de notificaciones, cambiar su contraseña y ajustar opciones de privacidad. | RN-014 | Puedes activar o desactivar cada tipo de notificación individualmente según tu preferencia. Para cambiar la contraseña, debes ingresar primero tu contraseña actual como medida de seguridad. | RI-014 | Nuevas preferencias de notificaciones seleccionadas, contraseña actual para validación, nueva contraseña encriptada, opciones de privacidad actualizadas y fecha de modificación de la configuración. |
| Gestión de Usuarios y Accesos | Registro automático de cambios | RF-015 | El sistema debe registrar automáticamente todos los cambios en las cuentas de usuario (modificación de datos, cambio de rol, cambio de contraseña). | RN-015 | Todas las modificaciones en cuentas de usuario quedan registradas permanentemente con detalles de qué cambió, quién lo hizo, desde dónde (dirección IP) y cuándo. Estos registros no pueden modificarse ni eliminarse. | RI-015 | Identificador del usuario modificado, tipo de cambio realizado (perfil, rol, contraseña, estado), valores anteriores y nuevos, identificador del usuario que hizo el cambio, dirección IP, fecha y hora del cambio. |
| Gestión de Usuarios y Accesos | Consulta de auditoría | RF-016 | El sistema debe permitir a los administradores consultar el historial completo de cambios de cualquier usuario para fines de auditoría. | RN-016 | Solo los administradores pueden consultar los registros de auditoría de usuarios. Estos registros muestran cada cambio con lujo de detalles para tener trazabilidad completa y cumplimiento de protección de datos. | RI-016 | Historial completo de cambios del usuario filtrable por: tipo de acción, rango de fechas y usuario ejecutor. Cada registro incluye acción, valores antes/después, IP y fecha/hora. |
| Gestión de Usuarios y Accesos | Login con email o teléfono | RF-017 | El sistema debe permitir a los usuarios iniciar sesión usando su correo electrónico o número de teléfono como identificador único. | RN-017 | El sistema acepta tanto correo electrónico válido como número de teléfono (10-15 dígitos) como credencial de acceso. Si el formato no es válido, se muestra un mensaje de error. La contraseña se valida contra el hash almacenado en la base de datos. | RI-017 | Identificador de acceso (email o teléfono), contraseña para validación, tipo de identificador detectado (email/teléfono), resultado de validación de formato, hash de contraseña almacenado y fecha/hora del intento de acceso. |
| Gestión de Usuarios y Accesos | Recordar mi cuenta (Remember Me) | RF-018 | El sistema debe permitir a los usuarios mantener su sesión activa por 30 días mediante la opción "Recordar mi cuenta" al iniciar sesión. | RN-018 | Al marcar la opción "Recordar mi cuenta", el sistema genera un token único de 64 caracteres que se almacena en una cookie segura (HttpOnly, HTTPS only) con expiración de 30 días. El token se refresca automáticamente en cada uso para mayor seguridad. Si el token es inválido o expira, la cookie se elimina automáticamente. | RI-018 | Token de recordatorio generado (64 caracteres hexadecimales), fecha de expiración del token (30 días desde creación), cookie con flags de seguridad (HttpOnly, Secure), usuario asociado al token, fecha de último refresco del token y validación de token en cada carga de página. |
| Gestión de Usuarios y Accesos | Registro de intentos fallidos | RF-019 | El sistema debe registrar automáticamente todos los intentos de inicio de sesión fallidos con el usuario, IP y fecha para análisis de seguridad. | RN-019 | Cada intento fallido se registra en la tabla `login_attempts` con el nombre de usuario (email o teléfono), dirección IP y fecha/hora. El sistema cuenta los intentos fallidos en la última hora por usuario o IP. Si se alcanzan 5 intentos fallidos en 1 hora, la cuenta se bloquea automáticamente. | RI-019 | Nombre de usuario intentado (email o teléfono), dirección IP del intento, fecha y hora del intento, contador de intentos en última hora (por usuario y por IP), umbral de bloqueo (5 intentos) y acción tomada (bloqueo de cuenta si aplica). |
| Gestión de Usuarios y Accesos | Bloqueo automático de cuenta | RF-020 | El sistema debe bloquear automáticamente las cuentas de usuario después de 5 intentos de inicio de sesión fallidos en un período de 1 hora. | RN-020 | Cuando se detectan 5 o más intentos fallidos desde el mismo usuario o dirección IP en la última hora, el campo `is_blocked` del usuario se actualiza a 1 (bloqueado). Los usuarios bloqueados no pueden iniciar sesión y reciben un mensaje indicando que deben contactar al administrador. El bloqueo debe ser revertido manualmente por un administrador. | RI-020 | Estado de bloqueo del usuario (is_blocked: 0/1), cantidad de intentos fallidos en última hora, fecha/hora del bloqueo automático, motivo del bloqueo (intentos fallidos excedidos), IP desde la cual se bloqueó y mensaje mostrado al usuario bloqueado. |
| Gestión de Usuarios y Accesos | Redirección post-login por rol | RF-021 | El sistema debe redirigir automáticamente a los usuarios a su panel correspondiente según su rol (admin o customer) después de iniciar sesión exitosamente, con soporte para URLs de redirección personalizadas. | RN-021 | Los usuarios con rol 'admin' son redirigidos al panel de administración (`/admin/dashboardadmin.php`). Los usuarios con rol 'customer' son redirigidos al panel de usuario (`/users/dashboarduser.php`). Si existe una URL de redirección guardada en sesión (parámetro `?redirect=`) y el usuario tiene acceso a esa ruta, se redirige allí en su lugar. | RI-021 | Rol del usuario (admin/customer), URL de destino según rol, URL de redirección solicitada (opcional), validación de acceso a URL solicitada, resultado de redirección y fecha/hora de último acceso actualizada. |
| Gestión de Productos e Inventario | Registrar producto | RF-022 | El sistema debe permitir a los administradores registrar nuevos productos con información básica: nombre, descripción, precio, categoría y género (niño/niña/bebé). | RN-022 | Solo los administradores pueden crear productos en el catálogo. Todos los productos deben tener nombre, precio y categoría como datos obligatorios. La descripción ayuda a que los clientes conozcan mejor el producto. | RI-022 | Nombre del producto, descripción detallada, precio base en pesos colombianos, identificador de la categoría, género (niño/niña/bebé/unisex), estado inicial (activo/inactivo) y fecha de creación. |
| Gestión de Productos e Inventario | Mostrar productos | RF-023 | El sistema debe permitir a los administradores visualizar el listado completo de todos los productos con su información principal, variantes y stock disponible. | RN-023 | El listado de productos muestra información resumida de cada uno: nombre, imagen principal, precio, categoría, género, cantidad de variantes, stock total y estado (activo/inactivo). Puedes buscar y filtrar para encontrar productos específicos fácilmente. | RI-023 | Listado de productos con: identificador, nombre, imagen principal, precio, categoría, género, cantidad de variantes de color, cantidad de variantes de talla, stock total, estado y opciones de acciones (editar, eliminar). |
| Gestión de Productos e Inventario | Actualizar producto | RF-024 | El sistema debe permitir a los administradores modificar cualquier información de productos existentes: nombre, descripción, precio, categoría, género o estado. | RN-024 | Los cambios en productos se reflejan inmediatamente en la tienda. Si cambias el precio, el nuevo precio se muestra de inmediato para los clientes. Todos los cambios quedan registrados en el historial de auditoría automáticamente. | RI-024 | Identificador del producto a modificar, nuevos valores para: nombre, descripción, precio, categoría, género, estado, usuario administrador que realiza el cambio y fecha de última actualización. |
| Gestión de Productos e Inventario | Eliminar producto | RF-025 | El sistema debe permitir a los administradores eliminar productos del catálogo que ya no se comercializan. | RN-025 | No puedes eliminar un producto que tenga pedidos pendientes o en proceso. El sistema te pedirá confirmación antes de eliminar para evitar borrados accidentales. La eliminación también borra todas sus variantes, imágenes y relaciones con colecciones. | RI-025 | Identificador del producto a eliminar, verificación de ausencia de pedidos activos, eliminación en cascada de variantes e imágenes, usuario que elimina, motivo de eliminación y fecha de eliminación para auditoría. |
| Gestión de Productos e Inventario | Agregar variante de color | RF-026 | El sistema debe permitir a los administradores agregar variantes de color a productos, asociando cada color con un código SKU único. | RN-026 | Cada combinación de producto y color genera un código SKU único automáticamente para control de inventario. Los colores disponibles se muestran con su representación visual real (código hexadecimal) para que los clientes vean el tono exacto. | RI-026 | Identificador del producto, identificador del color (de catálogo de colores), código SKU único generado automáticamente, estado de la variante (activa/inactiva) y fecha de creación de la variante. |
| Gestión de Productos e Inventario | Mostrar variantes de color | RF-027 | El sistema debe permitir visualizar todas las variantes de color de un producto con su información completa, imágenes específicas y stock disponible. | RN-027 | Cada variante de color puede tener sus propias fotos exclusivas mostrando cómo luce el producto en ese color específico. El stock se controla de manera independiente por cada combinación de color y talla. | RI-027 | Listado de variantes de color del producto con: color (nombre y código hexadecimal), código SKU, imágenes asociadas a esa variante, stock total de ese color (suma de todas las tallas) y estado. |
| Gestión de Productos e Inventario | Eliminar variante de color | RF-028 | El sistema debe permitir a los administradores eliminar variantes de color que ya no están disponibles, liberando espacio en el catálogo. | RN-028 | No puedes eliminar una variante de color que esté en pedidos pendientes o en carritos de compra activos. El sistema te avisará cuántos carritos tienen ese producto y te pedirá confirmación antes de eliminar. | RI-028 | Identificador de la variante de color, verificación de ausencia en pedidos activos y carritos, eliminación de imágenes asociadas, usuario administrador que elimina y fecha de eliminación. |
| Gestión de Productos e Inventario | Agregar variante de talla | RF-029 | El sistema debe permitir a los administradores agregar variantes de talla a productos con control de stock independiente por talla. | RN-029 | Cada talla de producto (XS, S, M, L, XL, 0-3M, 3-6M, etc.) tiene su propio inventario independiente. Al agregar una talla nueva, puedes definir cuántas unidades hay disponibles inicialmente. | RI-029 | Identificador del producto, identificador de la talla (de catálogo de tallas), cantidad de stock inicial para esa talla, umbral de alerta de bajo inventario y fecha de creación de la variante. |
| Gestión de Productos e Inventario | Mostrar variantes de talla | RF-030 | El sistema debe permitir visualizar todas las variantes de talla de un producto con su stock disponible actual y umbral de alerta. | RN-030 | Las tallas se muestran en orden lógico (de menor a mayor tamaño). Si el stock de alguna talla está por debajo del umbral configurado, se resalta visualmente para alertar al administrador que debe reabastecer. | RI-030 | Listado de variantes de talla del producto con: nombre de la talla, código de la talla, stock disponible actual, umbral de alerta, indicador visual de stock bajo y estado (activa/inactiva). |
| Gestión de Productos e Inventario | Eliminar variante de talla | RF-031 | El sistema debe permitir a los administradores eliminar variantes de talla que ya no se ofrecen en el producto. | RN-031 | Antes de eliminar una talla, el sistema verifica que no existan pedidos pendientes con esa talla específica. Si hay pedidos activos, no se permite la eliminación hasta que se completen o cancelen esos pedidos. | RI-031 | Identificador de la variante de talla, verificación de ausencia en pedidos activos, registro del stock eliminado para auditoría, usuario que elimina y fecha de eliminación. |
| Gestión de Productos e Inventario | Visualizar categorías | RF-032 | El sistema debe permitir visualizar el listado completo de categorías de productos disponibles para organizar el catálogo. | RN-032 | Las categorías organizan los productos para que los clientes encuentren fácilmente lo que buscan (vestidos, camisetas, pantalones, etc.). Todos los productos deben pertenecer a una categoría. Las categorías activas aparecen en el menú principal de la tienda. | RI-032 | Listado de categorías con: identificador, nombre de la categoría, identificador de URL amigable (slug), descripción, cantidad de productos en esa categoría, estado (activa/inactiva) y orden de visualización en el menú. |
| Gestión de Productos e Inventario | Ver inventario general | RF-033 | El sistema debe permitir a los administradores visualizar el inventario completo con stock de todas las variantes de productos, con alertas de bajo inventario. | RN-033 | El inventario muestra stock en tiempo real de cada producto por color y talla. Los productos con stock bajo (según umbral configurado) se destacan con color rojo para alertar que necesitan reabastecimiento urgente. | RI-033 | Listado de inventario con: producto, variante de color, variante de talla, stock disponible actual, umbral de alerta, indicador de stock bajo/crítico/agotado, fecha de última actualización del stock. |
| Gestión de Productos e Inventario | Ajustar stock manualmente | RF-034 | El sistema debe permitir a los administradores ajustar manualmente el stock de productos (agregar, reducir o transferir entre variantes) con motivo obligatorio. | RN-034 | Cada ajuste manual de inventario requiere especificar el motivo (reabastecimiento, corrección, merma, devolución, etc.). Todos los movimientos quedan registrados automáticamente con quién lo hizo, cuándo y por qué. | RI-034 | Identificador de la variante (producto+color+talla), tipo de movimiento (entrada/salida/transferencia), cantidad modificada, stock anterior, stock resultante, motivo del ajuste, usuario responsable y fecha del movimiento. |
| Gestión de Productos e Inventario | Ver historial de movimientos | RF-035 | El sistema debe permitir consultar el historial completo de movimientos de inventario filtrable por producto, fecha, tipo de movimiento y usuario responsable. | RN-035 | El historial de inventario es permanente e inalterable, permitiendo auditorías completas. Puedes ver todos los movimientos: ventas (automáticas), devoluciones, ajustes manuales, transferencias y correcciones, con trazabilidad completa. | RI-035 | Historial de movimientos con: fecha y hora, producto y variante afectada, tipo de movimiento, cantidad, stock antes/después, motivo, usuario responsable, pedido relacionado (si aplica) y notas adicionales. |
| Gestión de Productos e Inventario | Actualización automática por ventas | RF-036 | El sistema debe actualizar automáticamente el inventario cuando se confirma una orden de compra, descontando las unidades vendidas del stock. | RN-036 | Cuando un cliente completa su compra, el inventario se descuenta automáticamente de cada variante comprada. Si el pago es rechazado o el pedido se cancela, el stock se reintegra automáticamente. Esto evita sobreventa. | RI-036 | Movimiento automático de inventario: identificadores de las variantes vendidas, cantidades descontadas, número de pedido asociado, estado del pago, stock antes/después y fecha del movimiento automático. |
| Gestión de Productos e Inventario | Subir imágenes generales | RF-037 | El sistema debe permitir a los administradores subir imágenes generales del producto que se mostrarán en el catálogo principal. | RN-037 | Las imágenes deben estar en formato JPG, PNG o WEBP con tamaño máximo de 2 MB cada una. Puedes subir múltiples imágenes y definir cuál es la imagen principal que aparecerá en el listado de productos. | RI-037 | Identificador del producto, archivo de imagen (JPG/PNG/WEBP, máximo 2MB), ruta de almacenamiento de la imagen, orden de visualización, indicador de imagen principal y fecha de subida. |
| Gestión de Productos e Inventario | Subir imágenes por variante de color | RF-038 | El sistema debe permitir subir imágenes específicas para cada variante de color, mostrando cómo luce el producto en ese color exacto. | RN-038 | Cada variante de color puede tener múltiples fotos exclusivas desde diferentes ángulos. Cuando un cliente selecciona un color en la tienda, las imágenes cambian automáticamente para mostrar ese color específico. | RI-038 | Identificador de la variante de color, archivo de imagen, ruta de almacenamiento, orden de visualización de la imagen dentro de esa variante, indicador de imagen principal del color y fecha de subida. |
| Gestión de Productos e Inventario | Visualizar imágenes | RF-039 | El sistema debe permitir ver todas las imágenes asociadas a un producto (generales y por variante de color) en una galería organizada. | RN-039 | La galería de imágenes se organiza mostrando primero las imágenes generales del producto, seguidas por las imágenes específicas de cada variante de color. Puedes reordenar las imágenes arrastrándolas con el mouse. | RI-039 | Galería completa de imágenes del producto: imágenes generales ordenadas, imágenes por variante de color agrupadas, indicador de imagen principal, orden de visualización y opciones de acciones (reordenar, eliminar). |
| Gestión de Productos e Inventario | Eliminar imágenes | RF-040 | El sistema debe permitir a los administradores eliminar imágenes de productos o variantes, liberando espacio de almacenamiento. | RN-040 | Cada producto debe tener al menos una imagen. El sistema no te permitirá eliminar la última imagen de un producto. Si quieres cambiarla, primero debes subir la nueva imagen y luego podrás eliminar la antigua. | RI-040 | Identificador de la imagen a eliminar, ruta del archivo físico para eliminación, verificación de que no es la última imagen del producto, usuario que elimina y fecha de eliminación. |
| Gestión de Productos e Inventario | Registro automático de cambios | RF-041 | El sistema debe registrar automáticamente todos los cambios en productos e inventario para mantener trazabilidad completa. | RN-041 | Todos los cambios en productos (precio, descripción, categoría) e inventario (stock, movimientos) quedan registrados automáticamente con: qué cambió, valor anterior, valor nuevo, quién lo hizo y cuándo. Estos registros son permanentes e inalterables. | RI-041 | Registro de auditoría con: identificador del producto, campo modificado, valor anterior, valor nuevo, tipo de cambio (producto/inventario), usuario responsable, fecha y hora del cambio y motivo (si aplica). |
| Gestión de Productos e Inventario | Consulta de auditoría | RF-042 | El sistema debe permitir a los administradores consultar el historial completo de cambios de cualquier producto o movimiento de inventario. | RN-042 | Los reportes de auditoría son filtrados por: producto específico, rango de fechas, tipo de cambio y usuario ejecutor. Sirven para resolver disputas, identificar errores, analizar tendencias de precio y cumplir con auditorías contables. | RI-042 | Historial completo de cambios filtrable con: producto, tipo de acción, valores antes/después, usuario, fecha/hora. Exportable a Excel o PDF para reportes formales de auditoría. |

**FIN DE PARTE 1 - Continúa en PARTE_2_Tienda_Checkout.md**
